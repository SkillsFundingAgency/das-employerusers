@model SFA.DAS.EmployerUsers.Web.Models.RequestPasswordResetViewModel
@{
    ViewBag.PageID = "page-forgotten-password";
    ViewBag.Title = "Email address";
    ViewBag.HideSigninLink = true;
    ViewBag.HideCookieMessage = true;
}

<a href="@Url.Action("ForgottenCredentialsIntro","Account", new { ClientId = Model.ClientId, ReturnUrl = Model.ReturnUrl })" class="link-back">Back</a>

@if (!Model.Valid)
{
    <div class="error-summary" role="group" tabindex="-1">
        <h1 class="heading-medium error-summary-heading" id="error-summary-heading"> Errors to fix </h1>
        <p>Check the following details:</p>
        <ul class="error-summary-list">
        @if (!string.IsNullOrEmpty(Model.EmailError))
            {
            <li>
                <a href="#@(nameof(Model.Email))">@Model.EmailError</a>
            </li>
        }
        </ul>
    </div>
}
<div class="grid-row">
    <div class="column-two-thirds">
        <h1 class="heading-xlarge">@ViewBag.Title</h1>
        <p>Enter your registered email address to get a password reset code.</p>
        <form method="post" action="forgottencredentials" novalidate autocomplete="off">
            @Html.AntiForgeryToken()
            <input type="hidden" value="@Model.ClientId" name="ClientId" />

            <div class="form-group @(!string.IsNullOrEmpty(Model.EmailError) ? "error" : "") ">
                <label for="Email">
                    @if (!string.IsNullOrEmpty(Model.EmailError))
                    {
                        <span class="error-message" id="error-email">@Model.EmailError</span>
                    }
                </label>
                <input class="form-control" id="Email" name="Email" type="email" value="@Model.Email"
                       aria-required="true" @(!string.IsNullOrEmpty(Model.EmailError) ? "aria-invalid=true aria-describedby=error-email" : "" )>
            </div>
            <div class="form-group">
                <button type="submit" class="button" id="forgottenpassword-button">Continue</button>
            </div>
            <input type="hidden" name="ReturnUrl" value="@Model.ReturnUrl" />
        </form>
    </div>
</div>
